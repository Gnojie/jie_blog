
ç¯å¢ƒä¿¡æ¯
- vite
- vue3(setup script)
- typescript -æ ‡é…
- vue-router -vue3ç”Ÿæ€
- eslint -ä»£ç (jsã€vue)æ ¼å¼åŒ–
- stylelint -ä»£ç (css)æ ¼å¼åŒ–
- tailwind-css -åŸå­cssæ ·å¼åº“ 
- element-plus -vue3ç»„ä»¶åº“


## è„šæ‰‹æ¶ç”Ÿæˆåˆå§‹åŒ–é¡¹ç›®

vue3å®˜æ–¹è„šæ‰‹æ¶ç”Ÿæˆé¡¹ç›®
ğŸ‘‡ [vue3å®˜æ–¹æ–‡æ¡£](https://vuejs.org/guide/quick-start.html#creating-a-vue-application)
```bash
npm init vue@latest
```

ğŸ‘‡ [create-vueå®˜æ–¹æŒ‡ä»¤](https://github.com/vuejs/create-vue)
```bash
npm create vue@latest
```

---

### ğŸ¤” ä¸ºä»€ä¹ˆæœ‰ä¸åŒçš„å‘½ä»¤æ¥åˆå§‹åŒ–é¡¹ç›®

2ä¸ªæŒ‡ä»¤å¯ä»¥çœ‹å‡ºåŒºåˆ«æ˜¯ `init/create`
æˆ‘ä»¬è¿è¡Œ
```bash
npm create --help
```
ğŸ‘‡ å¾—åˆ°
```bash
Usage:
npm init <package-spec> (same as `npx <package-spec>)
npm init <@scope> (same as `npx <@scope>/create`)

Options:
[-y|--yes] [-f|--force] [--scope <@scope>]
[-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
[-ws|--workspaces] [--no-workspaces-update] [--include-workspace-root]

aliases: create, innit

Run "npm help init" for more info
```
ğŸ‘† çœ‹å‡º `create` æ˜¯ `init` çš„åˆ«åï¼Œå¹¶ä¸”æŒ‡å¼•è¯¦æƒ…æ–‡æ¡£ä¹Ÿæ˜¯æ‰“å¼€ `init`

å› æ­¤ è¿™é‡Œè¿è¡Œ `npm init vue@latest` === `npm create vue@latest`

---

ğŸ‘‡ [npm init å®˜æ–¹æ–‡æ¡£](https://docs.npmjs.com/cli/v8/commands/npm-init)
```bash
npm init foo -> npm exec create-foo
npm init @usr/foo -> npm exec @usr/create-foo
npm init @usr -> npm exec @usr/create
npm init @usr@2.0.0 -> npm exec @usr/create@2.0.0
npm init @usr/foo@2.0.0 -> npm exec @usr/create-foo@2.0.0
```

å› æ­¤ `npm init vue@latest` ç­‰åŒäºğŸ‘‡
```bash
npx create-vue@latest
```

æŒ‡ä»¤ [create-vueå®˜æ–¹æŒ‡ä»¤](https://github.com/vuejs/create-vue)å°†ä¼šå¾—åˆ°ğŸ‘‡å‘½ä»¤è¡Œé—®ç­”

```bash
âœ” Project name: â€¦ <your-project-name>
âœ” Add TypeScript? â€¦ No / Yes
âœ” Add JSX Support? â€¦ No / Yes
âœ” Add Vue Router for Single Page Application development? â€¦ No / Yes
âœ” Add Pinia for state management? â€¦ No / Yes
âœ” Add Vitest for Unit testing? â€¦ No / Yes
âœ” Add Cypress for both Unit and End-to-End testing? â€¦ No / Yes
âœ” Add ESLint for code quality? â€¦ No / Yes
âœ” Add Prettier for code formatting? â€¦ No / Yes

Scaffolding project in ./<your-project-name>...
Done.
```

ğŸ‘‡ å¦å¤–åœ¨[viteå®˜æ–¹æ–‡æ¡£](https://cn.vitejs.dev/guide/#scaffolding-your-first-vite-project) åˆ›å»ºvueé¡¹ç›®æŒ‡ä»¤
```bash
npm create vite <your-project-name> --template vue
```
åŒç†ç­‰åŒäº `npx create-vite` - [create-vite github](https://github.com/vitejs/vite/tree/main/packages/create-vite)

### è„šæ‰‹æ¶é¡¹ç›®å·²æœ‰é…ç½®

> åˆ é™¤å†—ä½™ä»£ç åçš„å·²æœ‰é…ç½®

```text
.vscode -vscodeç¼–è¾‘å™¨å±€éƒ¨é…ç½®
public -ä¸å‚ä¸ç¼–è¯‘çš„ç›®å½•èµ„æº(å›¾ç‰‡ã€csså˜é‡ç­‰)
src -é¡¹ç›®ç›®å½•å’Œvue2åŸºæœ¬ä¸€è‡´
.eslint -eslinté…ç½®
.gitignore -gitå¿½ç•¥é…ç½®
env.d.ts -tsé…ç½®(https://cn.vitejs.dev/guide/features.html#typescript)
index.html -æ¨¡æ¿html
package.json
tsconfig.config.json -tsé…ç½®
tsconfig.json -tsé…ç½®
vite.config.ts -viteé…ç½®
```

### viteé…ç½®

ğŸ‘‡ `vite.config.ts`æ–‡ä»¶
```ts
import { fileURLToPath, URL } from 'node:url' // ç”¨äºé…ç½®ç›®å½•åˆ«å

import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: {
      '@': fileURLToPath(new URL('./src', import.meta.url))
    }
  }
})
```
ğŸ‘† åªé…ç½®äº†
- ä¸€ä¸ª`vue3`çš„`plugin`
  - `@vitejs/plugin-vue`
  - Official plugin that provides Vue SFC support in Vite.
  - ç­‰åŒäºvue2çš„`loader`(è½¬è¯‘`.vueæ–‡ä»¶`)å’Œ`plugin`
- åˆ«å `alias`
  - [node:urlå®˜æ–¹æ–‡æ¡£](https://nodejs.org/api/url.html#urlfileurltopathurl)
  - `fileURLToPath(new URL('./src', import.meta.url))`
  - ç­‰åŒäºä»¥å‰åœ¨webpacké‡Œä½¿ç”¨çš„è‡ªå·±å°è£…çš„`path.resolve`å‡½æ•°
  - `path.resolve(__dirname, 'src')`
  - TODO:åŒºåˆ«ï¼Ÿ

### tsé…ç½®
ğŸ‘‡ `tsconfig.json`

```json
{
  "extends": "@vue/tsconfig/tsconfig.web.json",
  "include": ["env.d.ts", "src/**/*", "src/**/*.vue"],
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },

  "references": [
    {
      "path": "./tsconfig.config.json"
    }
  ]
}
```
TODO: tsé…ç½®å°†å•ç‹¬è®²è§£

### eslinté…ç½®
ğŸ‘‡ `.eslint.cjs`
```js
/* eslint-env node */
require('@rushstack/eslint-patch/modern-module-resolution')

module.exports = {
  root: true,
  'extends': [
    'plugin:vue/vue3-essential',
    'eslint:recommended',
    '@vue/eslint-config-typescript'
  ],
  parserOptions: {
    ecmaVersion: 'latest'
  }
}
```
ğŸ‘† ä½¿ç”¨çš„æ˜¯ `CommonJs`çš„`cjs`æ–‡ä»¶

é…ç½®äº†3ä¸ªé¢„è®¾
- `plugin:vue/vue3-essential`
  - `eslint` ä¼šæŠŠè¿™ç§å†™æ³•è§£æä¸ºå¯¹åº”çš„ä¾èµ–åŒ…åä¸éœ€è¦å¼•å…¥
  - `plugin:vue` -> `eslint-plugin-vue`
  - `essential` åŸºæœ¬çš„
- `eslint:recommended` å¯¹åº”ä¾èµ–åŒ… `eslint`
- `@vue/eslint-config-typescript`
  - æ²¡æœ‰é‡‡ç”¨ç‰¹æ®Šå†™æ³•ï¼Œå› æ­¤å°±æ˜¯å¯¹åº”çš„ä¾èµ–åŒ…
  - åŸºäº`@typescript-eslint/eslint-plugin`æ‰©å±•çš„vueçš„tsä»£ç æ ¼å¼æ ¡éªŒ

é…åˆ`@vue/eslint-config-typescript` ä»£ç æ ¼å¼åŒ–éœ€è¦å®‰è£… `@rushstack/eslint-patch/modern-module-resolution` TODO: 

### æ¨¡æ¿html

```html
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>innermanage demo</title>
</head>
```
ğŸ‘‡ ä½¿ç”¨çš„æ˜¯esm
```html
<body>
  <div id="app"></div>
  <script type="module" src="/src/main.ts"></script>
</body>
```

### routeré…ç½®
ğŸ‘‡ `router/index.ts`
```ts
import { createRouter, createWebHistory } from 'vue-router'

const router = createRouter({
  history: createWebHistory(import.meta.env.BASE_URL), // TODO:
  routes: [
    {
      path: '/',
      name: 'home',
      redirect:'home'
    },
    {
      path: '/home',
      name: 'home',
      component: () => import('../views/home.vue')
    }
  ]
})
export default router
```

ğŸ‘‡ `main.ts`
```ts
import { createApp } from 'vue'
import App from './App.vue'
import router from './router'

const app = createApp(App)
app.use(router)
app.mount('#app')
```

## viteç¯å¢ƒé…ç½®
vite é»˜è®¤è®¾ç½®ç¯å¢ƒå˜é‡`development` `productment`

### ç¯å¢ƒå˜é‡ç›®å½•ä¿®æ”¹

> Vite åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ `import.meta.env` å¯¹è±¡ä¸Šæš´éœ²ç¯å¢ƒå˜é‡

[ç¯å¢ƒå˜é‡å’Œæ¨¡å¼-viteå®˜æ–¹æ–‡æ¡£](https://cn.vitejs.dev/guide/env-and-mode.html)

> ç¯å¢ƒå˜é‡æ–‡ä»¶ç›®å½•é»˜è®¤ä»é¡¹ç›®æ ¹è·¯å¾„è¯»å–
> é€šè¿‡ğŸ‘‡ é…ç½®ä¿®æ”¹
[envdiré…ç½®-viteå®˜æ–¹æ–‡æ¡£](https://cn.vitejs.dev/config/shared-options.html#envdir)

æ–°å»ºç›®å½• `build/env` å­˜æ”¾ç¯å¢ƒå˜é‡

ğŸ‘‡ `build/env/.env.development`
```bash
# import.meta.env.VITE_SOME_KEY
VITE_SOME_KEY=dev-VITE_SOME_KEY
```
ğŸ‘‡ `build/env/.env.production`
```bash
# import.meta.env.VITE_SOME_KEY
VITE_SOME_KEY=prod-VITE_SOME_KEY
```

ğŸ‘‡ ä¿®æ”¹`vite.config.ts`

```ts
export default defineConfig({
  plugins: [ ... ],
  resolve: { ... },
  // ä¿®æ”¹ç¯å¢ƒå˜é‡é…ç½®ç›®å½•(é»˜è®¤æ˜¯æ ¹ç›®å½•)
  envDir: fileURLToPath(new URL('./build/env'))
})
```

### viteæ‰“åŒ…é…ç½®æ ¹æ®ç¯å¢ƒåŒºåˆ†æ–‡ä»¶
> viteåªç»™ç¯å¢ƒå˜é‡é»˜è®¤è®¾ç½® dotenv ç›®å½•è¯»å–é…ç½®
> å…¶ä»–æ‰“åŒ…é…ç½®å¹¶æ²¡æœ‰åŒºåˆ†ç¯å¢ƒ
> å› æ­¤æˆ‘ä»¬ä½¿ç”¨å‡½æ•°æ‰‹åŠ¨åˆ†å¼€ä½¿ç”¨å¯¹åº”ç¯å¢ƒçš„é…ç½®æ–‡ä»¶

ğŸ‘‡ `build/index.ts`
```ts
import { devConfig } from './config/dev.config';
import { prodConfig } from './config/prod.config';

// æŠŠé…ç½®åŒ…è£…æˆå‡½æ•°ï¼Œåœ¨è¿è¡Œæ‰“åŒ…æŒ‡ä»¤æ—¶ï¼Œæ‡’åŠ è½½å‡½æ•°ï¼Œä¸ç”¨é¢„ç¼–è¯‘æ‰€æœ‰é…ç½®æ–‡ä»¶
export const envResolver = new Map<string,()=>void>([
  ['development', ()=>devConfig], // keyä¸ºviteæ‰“åŒ…æŒ‡ä»¤çš„modeç¯å¢ƒå˜é‡,é»˜è®¤æœ‰developmentã€production(https://cn.vitejs.dev/config/shared-options.html#mode)
  ['production', ()=>prodConfig]
])
```
ğŸ‘† æŠ›å‡ºä¸€ä¸ªmapå¯¹è±¡
- keyä¸ºæ‰“åŒ…æŒ‡ä»¤çš„ç¯å¢ƒå˜é‡
- valueä¸ºä¸€ä¸ªå‡½æ•°ç›´æ¥æŠ›å‡ºå¯¹åº”ç¯å¢ƒé…ç½®æ–‡ä»¶çš„å†…å®¹ï¼Œå®ç°æ‡’åŠ è½½

ğŸ‘‡ `build/config/*.config.ts`
```ts
// build/config/dev.config.ts
export const devConfig = {}

// build/config/prod.config.ts
export const prodConfig = {}
```
ğŸ‘† ç›´æ¥æŠ›å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œä¼šç”±index.tsåŒ…è£…æˆå‡½æ•°å®ç°æ‡’åŠ è½½

ğŸ‘‡ vite.config.ts
```ts
import { envResolver } from "./build/index";

// ä¸åŒæ‰“åŒ…ç¯å¢ƒ é€šç”¨é…ç½®
const commonConfig = {
  plugins: [ ... ],
  resolve: { ... },
  envDir: ...
}

// æ‰“åŒ…é…ç½®å‡½æ•°ï¼Œæ”¹ç”¨å‡½æ•°å¯ä»¥è·å–åˆ°æ‰“åŒ…ç¯å¢ƒå˜é‡mode
// TODO: æ€ä¹ˆå®šä¹‰è¿™ä¸ªé…ç½®å‡½æ•°çš„å‚æ•°ç±»å‹æ¨å¯¼
const modeConfigFn = ({ mode }:{mode:string}) => {
  const fn = envResolver.get(mode) || (()=>{})
  return Object.assign(
    commonConfig,
    fn()
  )
}
export default defineConfig(modeConfigFn)
```
ğŸ‘† å¼•ç”¨`import { envResolver } from "./build/index"`ä¼šæœ‰tsæŠ¥é”™ï¼Œæ‰¾ä¸åˆ°å¯¹åº”æ¨¡å—çš„ç±»å‹å£°æ˜
æ˜¯å› ä¸ºé¡¹ç›®çš„tsé…ç½®äº†ç¼–è¯‘ç›®å½•
ğŸ‘‡ åœ¨ `tsconfig.config.json` ä¸­æ·»åŠ  `"build/**/*.ts`

`"include": ["vite.config.*", "vitest.config.*", "cypress.config.*", "playwright.config.*", "build/**/*.ts"],`

## vscodeä¿å­˜è‡ªåŠ¨æ ¼å¼åŒ–

åŸè„šæ‰‹æ¶å·²ç»ç”Ÿæˆäº† `.vscode`ç›®å½•
ğŸ‘‡ `.vscode/extensions.json` æ’ä»¶é…ç½®äº†
```json
{
  "recommendations": ["Vue.volar", "Vue.vscode-typescript-vue-plugin"]
}
```
æ–°å¢ä¸€ä¸ªé…ç½®æ–‡ä»¶
ğŸ‘‡ `.vscode/settings.json`
```json
{
  "editor.formatOnSave": true,
  "editor.tabSize": 2,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true,
  },
  "eslint.alwaysShowStatus": true,
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "html",
    "vue"
  ],
}
```

## é…ç½®å®˜æ–¹è‡ªåŠ¨å¯¼å…¥æ’ä»¶-çœç•¥æ‰‹å†™importèµ„æº

[unplugin-auto-import github](https://github.com/antfu/unplugin-auto-import)

> Auto import APIs on-demand for Vite, Webpack, Rollup and esbuild. With TypeScript support. Powered by [unplugin-github](https://github.com/unjs/unplugin)

åˆ©ç”¨è‡ªå®šä¹‰viteç¼–è¯‘æ’ä»¶åŠŸèƒ½
- å®ç°ç¼–è¯‘æ—¶è‡ªåŠ¨æŒ‰éœ€æ³¨å…¥importè¯­å¥
- å¹¶æŒ‰é…ç½®é¡¹ï¼Œç”Ÿæˆtsè§„åˆ™(ç”¨äºtsç±»å‹æ ¡éªŒè®¤ä¸ºä¸importæ˜¯åˆæ³•çš„)
- å¹¶æŒ‰é…ç½®é¡¹ï¼Œç”Ÿæˆeslintè§„åˆ™(ç”¨äºtsæ ¼å¼æ ¡éªŒè®¤ä¸ºä¸importæ˜¯åˆæ³•çš„)

### å®‰è£…ä¾èµ–å¹¶é…ç½®vite
å®‰è£… `pnpm add unplugin-auto-import -D`
é…ç½® ğŸ‘‡ `vite.config.ts`
```ts
import AutoImport from 'unplugin-auto-import/vite'

export default defineConfig({
  plugins: [
    AutoImport({ /* options */ }),
  ],
})
```
æ­¤æ—¶é¡¹ç›®æ²¡æœ‰ä»»ä½•å˜åŒ–
å½“è¿è¡Œ `pnpm dev` æ—¶ï¼Œæ ¹ç›®å½•ä¸‹è‡ªåŠ¨ç”Ÿæˆäº† `auto-imports.d.ts` æ–‡ä»¶
```ts
// Generated by 'unplugin-auto-import'
export {}
declare global {
}
```
ğŸ‘† å¯ä»¥çœ‹å‡ºå£°æ˜äº†å…¨å±€å¯¹è±¡ï¼Œç©ºçš„

### é…ç½®è‡ªåŠ¨æ³¨å…¥vueçš„apiå¼•å…¥è¯­å¥
å½“æˆ‘ä»¬é…ç½®æ’ä»¶å†…å®¹ä¸ºvueæ—¶
`AutoImport({ imports: ['vue'] })`
ğŸ‘‡ ç¼–å†™æ’ä»¶é…ç½®é¡¹æœ‰tsè‡ªåŠ¨è¡¥å…¨æç¤º,`imports`çš„å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„
![](https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/202212272355506.png)
å¯ä»¥ç‚¹è¿›å»æŸ¥çœ‹å…·ä½“çš„æšä¸¾

å†æ¬¡è¿è¡Œ`pnpm dev`
è‡ªåŠ¨ç”Ÿæˆçš„ `auto-imports.d.ts` æ–‡ä»¶å‘ç”Ÿäº†æ”¹å˜
```ts
// Generated by 'unplugin-auto-import'
export {}
declare global {
  const EffectScope: typeof import('vue')['EffectScope']
  const computed: typeof import('vue')['computed']
  const createApp: typeof import('vue')['createApp']
  const customRef: typeof import('vue')['customRef']
  const defineAsyncComponent: typeof import('vue')['defineAsyncComponent']
  const defineComponent: typeof import('vue')['defineComponent']
  const effectScope: typeof import('vue')['effectScope']
  const getCurrentInstance: typeof import('vue')['getCurrentInstance']
  const getCurrentScope: typeof import('vue')['getCurrentScope']
  const h: typeof import('vue')['h']
  const inject: typeof import('vue')['inject']
  const isProxy: typeof import('vue')['isProxy']
  const isReactive: typeof import('vue')['isReactive']
  const isReadonly: typeof import('vue')['isReadonly']
  const isRef: typeof import('vue')['isRef']
  const markRaw: typeof import('vue')['markRaw']
  const nextTick: typeof import('vue')['nextTick']
  const onActivated: typeof import('vue')['onActivated']
  const onBeforeMount: typeof import('vue')['onBeforeMount']
  const onBeforeUnmount: typeof import('vue')['onBeforeUnmount']
  const onBeforeUpdate: typeof import('vue')['onBeforeUpdate']
  const onDeactivated: typeof import('vue')['onDeactivated']
  const onErrorCaptured: typeof import('vue')['onErrorCaptured']
  const onMounted: typeof import('vue')['onMounted']
  const onRenderTracked: typeof import('vue')['onRenderTracked']
  const onRenderTriggered: typeof import('vue')['onRenderTriggered']
  const onScopeDispose: typeof import('vue')['onScopeDispose']
  const onServerPrefetch: typeof import('vue')['onServerPrefetch']
  const onUnmounted: typeof import('vue')['onUnmounted']
  const onUpdated: typeof import('vue')['onUpdated']
  const provide: typeof import('vue')['provide']
  const reactive: typeof import('vue')['reactive']
  const readonly: typeof import('vue')['readonly']
  const ref: typeof import('vue')['ref']
  const resolveComponent: typeof import('vue')['resolveComponent']
  const resolveDirective: typeof import('vue')['resolveDirective']
  const shallowReactive: typeof import('vue')['shallowReactive']
  const shallowReadonly: typeof import('vue')['shallowReadonly']
  const shallowRef: typeof import('vue')['shallowRef']
  const toRaw: typeof import('vue')['toRaw']
  const toRef: typeof import('vue')['toRef']
  const toRefs: typeof import('vue')['toRefs']
  const triggerRef: typeof import('vue')['triggerRef']
  const unref: typeof import('vue')['unref']
  const useAttrs: typeof import('vue')['useAttrs']
  const useCssModule: typeof import('vue')['useCssModule']
  const useCssVars: typeof import('vue')['useCssVars']
  const useSlots: typeof import('vue')['useSlots']
  const watch: typeof import('vue')['watch']
  const watchEffect: typeof import('vue')['watchEffect']
  const watchPostEffect: typeof import('vue')['watchPostEffect']
  const watchSyncEffect: typeof import('vue')['watchSyncEffect']
}
```

### é…ç½®eslint
æ­¤æ—¶æŸ¥çœ‹ç¤ºä¾‹ä»£ç 
![](https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/202212280001678.png)
ğŸ‘† eslint æŠ¥é”™

é…ç½®æ’ä»¶å†…å®¹çš„eslintrcé€‰é¡¹
```ts
plugins: [
  AutoImport({
    imports: ['vue'],
    eslintrc: {
      enabled: true, // <-- this
    },
  }),
],
```
å› ä¸ºåˆšæ‰å¯åŠ¨ç€vite,æ£€æµ‹åˆ°äº†é…ç½®å‘ç”Ÿäº†æ”¹å˜è‡ªåŠ¨reloadï¼Œè§¦å‘äº†æ’ä»¶ç”Ÿæˆ
`.eslintrc-auto-import.json` æ–‡ä»¶
```json
{
  "globals": {
    "EffectScope": true,
    "computed": true,
    "createApp": true,
    "customRef": true,
    "defineAsyncComponent": true,
    "defineComponent": true,
    "effectScope": true,
    "getCurrentInstance": true,
    "getCurrentScope": true,
    "h": true,
    "inject": true,
    "isProxy": true,
    "isReactive": true,
    "isReadonly": true,
    "isRef": true,
    "markRaw": true,
    "nextTick": true,
    "onActivated": true,
    "onBeforeMount": true,
    "onBeforeUnmount": true,
    "onBeforeUpdate": true,
    "onDeactivated": true,
    "onErrorCaptured": true,
    "onMounted": true,
    "onRenderTracked": true,
    "onRenderTriggered": true,
    "onScopeDispose": true,
    "onServerPrefetch": true,
    "onUnmounted": true,
    "onUpdated": true,
    "provide": true,
    "reactive": true,
    "readonly": true,
    "ref": true,
    "resolveComponent": true,
    "resolveDirective": true,
    "shallowReactive": true,
    "shallowReadonly": true,
    "shallowRef": true,
    "toRaw": true,
    "toRef": true,
    "toRefs": true,
    "triggerRef": true,
    "unref": true,
    "useAttrs": true,
    "useCssModule": true,
    "useCssVars": true,
    "useSlots": true,
    "watch": true,
    "watchEffect": true,
    "watchPostEffect": true,
    "watchSyncEffect": true
  }
}
```
ğŸ‘† ä¹Ÿæ˜¯å®šä¹‰äº†globals
è¿™ä¸ªæ–‡ä»¶éœ€è¦æ‰‹åŠ¨é…ç½®åˆ° `.eslinrc.cjs` ä¸­æ‰èƒ½ç”Ÿæ•ˆ
```js
module.exports = {
  'extends': [
    './.eslintrc-auto-import.json',
  ],
}
```
### é…ç½®ts
![](https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/202212280007688.png)
ğŸ‘† æ­¤æ—¶eslintä¸æŠ¥é”™äº†ï¼Œtsä¾ç„¶æŠ¥é”™
å› ä¸ºè‡ªåŠ¨ç”Ÿæˆçš„`auto-imports.d.ts` æ–‡ä»¶,è¿˜æ˜¯éœ€è¦æ‰‹åŠ¨é…ç½®

æ³¨æ„ï¼Œç”Ÿæˆ`.d.ts`æ–‡ä»¶ä¸æ˜¯`imports:["vue"]`é…ç½®çš„ä½œç”¨ï¼Œè€Œæ˜¯é»˜è®¤é…ç½®`dts:'./auto-imports.d.ts'`
![](https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/202212280027325.png)

åœ¨`tsconfig.json`ä¸­é…ç½®ä¸Š`"include": ["env.d.ts", "src/**/*", "src/**/*.vue", "auto-imports.d.ts"],`

### è°ƒæ•´è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶çš„ç›®å½•
ğŸ‘† è‡³æ­¤,å·²ç»å¼€å‘é˜¶æ®µå·²ç»å¯ä»¥çœç•¥`import {xxx} from 'vue'`è¯­å¥çš„ç¼–å†™äº†

ä½†æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼Œå¸Œæœ›æ•´ç†ä¸€ä¸‹ï¼Œè€Œä¸æ˜¯ä¸€è‚¡è„‘æ”¾åœ¨æ ¹ç›®å½•ï¼Œå› ä¸ºåç»­çœç•¥ç»„ä»¶åº“å¼•å…¥è¯­å¥æ—¶ä¹Ÿè¦ç”Ÿæˆæ–‡ä»¶

ä¿®æ”¹é…ç½®`dts: 'types/auto-import.d.ts'`

æ­¤æ—¶è¿è¡Œ`pnpm dev`ä¼šæŠ¥é”™ï¼Œæ‰¾ä¸åˆ° `types` ç›®å½•ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºç›®å½•ï¼Œå†è¿è¡Œå³å¯

åˆ é™¤æ ¹è·¯å¾„`auto-import.d.ts`æ–‡ä»¶ï¼Œå¹¶é‡æ–°é…ç½®`tsconfig.json`
`"auto-imports.d.ts"` -> `"types/**/*.ts"`

## é…ç½®ç»„ä»¶è‡ªåŠ¨å¯¼å…¥æ’ä»¶

TODO: åŸç†å•ç‹¬è®²è§£(éœ€è¦viteåŸç†åŸºç¡€)

### é¡¹ç›®å†…ç»„ä»¶åº“

> ğŸ¤”è‡ªåŠ¨å¯¼å…¥æ„Ÿè§‰ä¸é€‚ç”¨äº**é¡¹ç›®å†…èµ„æº**ï¼Œè€Œæ˜¯é€‚ç”¨äº**ç¬¬ä¸‰æ–¹åº“**(ä» `node_modules` è¯»å–)
> å› ä¸º**ç¬¬ä¸‰æ–¹åº“**å³ä½¿çœç•¥ï¼Œä¹ŸçŸ¥é“æ¥æºç›®å½•
> ä½†æ˜¯**é¡¹ç›®å†…èµ„æº**ï¼Œä¸å†™å¼•å…¥è¯­å¥ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨çš„è¯ï¼Œéš¾ä»¥ç¡®å®šæ¨¡å—æ¥æºï¼Œé™¤éé¡¹ç›®æˆå‘˜éƒ½æ˜ç¡®çŸ¥é“ç›¸åº”è§„åˆ™çš„æ¨¡å—å†™æ³•å¯¹åº”çš„æ¥æº

### ç¬¬ä¸‰æ–¹ç»„ä»¶åº“

[vant-è‡ªåŠ¨å¼•å…¥ç»„ä»¶æ–‡æ¡£](https://vant-contrib.gitee.io/vant/#/zh-CN/quickstart#fang-fa-er.-an-xu-yin-ru-zu-jian-yang-shi)
[element-plus-è‡ªåŠ¨å¼•å…¥ç»„ä»¶æ–‡æ¡£](https://element-plus.gitee.io/zh-CN/guide/quickstart.html#%E6%8C%89%E9%9C%80%E5%AF%BC%E5%85%A5)

> [unplugin-vue-components](https://github.com/antfu/unplugin-vue-components) å¹¶ä¸æ˜¯ å„è‡ªç»„ä»¶åº“ç»´æŠ¤çš„æ’ä»¶

```ts
// vite.config.js
import Components from 'unplugin-vue-components/vite'
import {
  AntDesignVueResolver,
  ElementPlusResolver,
  VantResolver,
} from 'unplugin-vue-components/resolvers'

// your plugin installation
Components({
  resolvers: [
    AntDesignVueResolver(),
    ElementPlusResolver(),
    VantResolver(),
  ],
})
```
ğŸ‘† `unplugin-vue-components` æä¾›2ç§å†…å®¹
- æ’ä»¶æœ¬ä½“ `unplugin-vue-components/vite`
- å¸‚é¢ä¸Šå¸¸ç”¨ç»„ä»¶åº“é…ç½®æ•°æ® `unplugin-vue-components/resolvers` ,ç”¨äºé€šè¿‡ `resolvers` ä¼ å…¥æ’ä»¶
  - å½“ç»„ä»¶åº“æ˜¯è‡ªå·±å‘å¸ƒçš„åŒ…æ—¶ï¼Œéœ€è¦è‡ªå·±ç¼–å†™å‚æ•°

å¦å¤–é™¤äº†é…ç½®è‡ªåŠ¨å¼•å…¥ç¬¬ä¸‰æ–¹ç»„ä»¶åº“ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæœ¬åœ°ç›®å½•çš„ç»„ä»¶(è§„èŒƒï¼Ÿ)è‡ªå®šä¹‰å¼•å…¥
```js
Components({
  // relative paths to the directory to search for components.
  dirs: ['src/components'],
})
```

å’Œ `unplugin-auto-imports` ä¸€æ ·æœ‰ä¸€äº›é»˜è®¤é…ç½®é¡¹ï¼Œå¦‚
- tsï¼Œè‡ªåŠ¨ç”Ÿæˆ`.d.ts`åœ¨æ ¹ç›®å½•ä¸‹ï¼Œéœ€è¦é¡¹ç›®çš„tsé…ç½®è®¤è¿™ä¸ªæ–‡ä»¶

ğŸ‘‡ æˆ‘ä»¬è¿™é‡Œé…ç½®ä¸º
```ts
Components({
  // relative paths to the directory to search for components.
  dirs: ['src/components'],
  dts: 'types/components.d.ts',
})
```

ğŸ‘‡ ç”Ÿæˆ `types/components.d.ts`
```ts
// generated by unplugin-vue-components
// We suggest you to commit this file into source control
// Read more: https://github.com/vuejs/core/pull/3399
import '@vue/runtime-core'

export {}

declare module '@vue/runtime-core' {
  export interface GlobalComponents {
    AnButton: typeof import('./../src/components/base/button/AnButton.vue')['default']
    RouterLink: typeof import('vue-router')['RouterLink']
    RouterView: typeof import('vue-router')['RouterView']
  }
}
```