## filter
> æƒ³å®ç°`filter`åœ¨vueä¸­çš„æ•ˆæœï¼Œå®Œå…¨å¯ä»¥æœ‰å„ç§å…¶ä»–çš„å®ç°æ–¹å¼ï¼Œä»…ä»…æ˜¯å› ä¸ºç®¡é“è¿ç®—ç¬¦å†™ç€å¥½çœ‹å°±è®¾è®¡è¿™ä¸ªAPIå—

æ¯”å¦‚é™æ€çš„`methods`,`mounted`æŒ‚è½½ä¸€æ¬¡ä¹‹å`fileter`è®¡ç®—åçš„ç»“æœä¸ä¼šå†åŠ¨æ€å˜åŒ–(åŠ¨æ€æ¸²æŸ“å¦‚foræ—¶ä¼šæ˜¯åŠ¨æ€çš„)

æ¯”å¦‚åŠ¨æ€çš„`computed`,æ¯æ¬¡è®¡ç®—éƒ½ä¼šè§¦å‘filterè®¡ç®—åç»“æœreturn

æœ‰è¶£çš„æ˜¯ğŸ‘‡

> åœ¨ 3.x ä¸­ï¼Œè¿‡æ»¤å™¨å·²ç§»é™¤ï¼Œä¸”ä¸å†æ”¯æŒã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæˆ‘ä»¬å»ºè®®ç”¨`æ–¹æ³•è°ƒç”¨`æˆ–`è®¡ç®—å±æ€§`æ¥æ›¿æ¢å®ƒä»¬ã€‚

## ç®¡é“è¿ç®—
> æ‰€ä»¥åœ¨è®²`filter`ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè®²è®²ç®¡é“è¿ç®—

> ä»€ä¹ˆæ˜¯ç®¡é“å‡½æ•°ï¼Ÿ
> 
> ç®¡é“å‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†å‰ä¸€æ­¥çš„ç»“æœç›´æ¥ä¼ å‚ç»™ä¸‹ä¸€æ­¥çš„å‡½æ•°ï¼Œä»è€Œçœç•¥äº†ä¸­é—´çš„èµ‹å€¼æ­¥éª¤ï¼Œå¯ä»¥å¤§é‡å‡å°‘å†…å­˜ä¸­çš„å¯¹è±¡ï¼ŒèŠ‚çœå†…å­˜ã€‚

å¦‚ğŸ‘‡ ä¸€ä¸ªå€¼ç»è¿‡å¤šä¸ªå‡½æ•°å¤„ç†çš„å†™æ³•
- `fn3(fn2(fn1(val)))`

è€Œç”¨vueçš„ç®¡é“è¿ç®—ç¬¦å†™å‡ºæ¥å°±æ˜¯ğŸ‘‡
- `val | fn1 | fn2 | fn3`

å½“ç„¶è¿™ä¸æ˜¯`js`çš„è¯­æ³•ï¼Œä¹Ÿä¸æ˜¯`ES6+`çš„è¯­æ³•

æ‰€ä»¥vueè‚¯å®šæ˜¯æŠŠè¿™ç§è¯­æ³•ç¼–è¯‘æˆåˆ«çš„ä¸œè¥¿äº†

ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ç®¡é“å‡½æ•°`pipeLine`
```js
function pipeLine(...fns) {
  return (val) => {
    fns.reduce( (prev, cur) => cur(prev), val);
  }
}

const pipe = pipeLine(fn1,fn2,fn3)
pipe('I am value');
```

## ç»„åˆcompose
> ç»„åˆå‡½æ•°çš„æ¦‚å¿µ: ç®€å•åœ°ç»“åˆå¤šä¸ªå‡½æ•°ã€‚ä»å³å‘å·¦æµåŠ¨ï¼Œç”¨ä¸Šä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºè°ƒç”¨æ¯ä¸ªå‡½æ•°
> 
> æŠŠå¤šä¸ªå‡½æ•°ä¼ é€’è¿›ä¸€ä¸ªç»„åˆå·¥å…·ä¸­ï¼Œè°ƒç”¨ç»„åˆå·¥å…·æ¥æŒ‰é¡ºåºä»å³å¾€å·¦æ‰§è¡Œ

```js
// ç»„åˆå¤šä¸ªå‡½æ•° compose
function compose(...fns){
  return (value) => {
    // å€’åºæ‰§è¡Œ
    fns.reverse().reduce((acc, fn) => fn(acc), value);
  }
}

const composefn = compose(fn1, fn2);
composefn('I am value');
```
ğŸ‘‡ å…ˆåè½¬å†éå†æ‰§è¡Œçš„æ“ä½œå¯ä»¥ä¼˜åŒ–ç”¨ES6ç°æˆçš„ [reduceRight-MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight)

```js
// ç»„åˆå¤šä¸ªå‡½æ•° compose
function compose(...fns){
  return (value) => {
    fns.reduceRight((acc, fn) => fn(acc), value);
  }
}

const composefn = compose(fn1, fn2);
composefn('I am value');
```

[MDNçš„ç¤ºä¾‹](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight#å®šä¹‰å¯ç»„åˆå‡½æ•°)ä¸­å°±æœ‰ç»„åˆçš„ä»‹ç»

**ç»„åˆçš„å®é™…åº”ç”¨**

è¿™ç§é¡ºåºçš„æ‰§è¡Œï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“è”æƒ³åˆ°`webpack`ä»å³å¾€å·¦çš„`loader`æ•°ç»„é…ç½®,å¦‚cssçš„å¤„ç†å°±éœ€è¦ä¸€ä¸ªèµ„æºå†…å®¹ç»è¿‡ `scss-loader` `postcss-loader` `css-loader` `style-loader`

æ²¡é”™[webpackçš„loader](../webpack/é‡å­¦webpack-03loader.md)æ‰§è¡Œå°±æ˜¯ç»„åˆå‡½æ•°é£æ ¼

å¦å¤–è¿˜æœ‰`Redux`çš„**ä¸­é—´ä»¶**ä¹Ÿæ˜¯è¿™ç§é£æ ¼

å¯ä»¥å‘ç°
- ç»„åˆå’Œç®¡é“ç±»ä¼¼ï¼Œéƒ½æ˜¯ä¸²è¡Œå¤„ç†æ•°æ®
- ä¼ å…¥ä¸€ä¸ªåˆå§‹æ•°æ®ï¼Œé€šè¿‡ä¸åŒå‡½æ•°å¤„ç†åˆå§‹æ•°æ®
- ç»„åˆæ˜¯ä»å³å¾€å·¦, ç®¡é“æ˜¯ä»å·¦å¾€å³

---

æ€è€ƒğŸ¤”: `reduceRight` çš„å†…éƒ¨å®ç°åŸç†ä¹Ÿæ˜¯ç”¨åè½¬å—ï¼Ÿ

æ˜¾è€Œæ˜“è§çš„åè½¬å†éå†çš„ç©ºé—´å¤æ‚åº¦æ˜¯ä¸å¤Ÿå¥½çš„

`reduceRight` çš„å†…éƒ¨å®ç°åœ¨MDNä¸­ä¹Ÿæœ‰ä»‹ç»ï¼Œå…¶å®å°±æ˜¯[forå¾ªç¯ä»æœ«å°¾å¼€å§‹æ‰§è¡Œ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight#å…¼å®¹æ—§ç¯å¢ƒï¼ˆpolyfillï¼‰)è€Œå·²

---

æ€è€ƒğŸ¤”: ä¸ºä»€ä¹ˆ`webpack`å’Œ`ä¸­é—´ä»¶`è¦è®¾è®¡ç»„åˆä»å³å¾€å·¦ï¼Œè€Œä¸æ˜¯æ›´ç¬¦åˆæˆ‘ä»¬æ€è€ƒä¹ æƒ¯çš„ä»å·¦å¾€å³çš„ç®¡é“å‘¢

TODO: 

---

## å‡½æ•°æŸ¯é‡ŒåŒ–
> æ—¢ç„¶è®²äº†`ç®¡é“å‡½æ•°`å’Œ`ç»„åˆå‡½æ•°`äº†ï¼Œæˆ‘ä»¬å†åä¸ªé¢˜ï¼Œçœ‹çœ‹`å‡½æ•°æŸ¯é‡ŒåŒ–`
>
> åŒæ ·çš„è¿™ä¸ªç”±ä¸“æœ‰åè¯çš„ä¸œè¥¿ä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„æ¦‚å¿µ
> ä¸€ä¸ªå‡½æ•°å¤šæ¬¡è°ƒç”¨ä¼ å…¥ä¸åŒçš„å‚æ•°ï¼Œç»Ÿä¸€æ‰€æœ‰å‚æ•°è®¡ç®—å‡ºç»“æœ

```js
// æŸ¯é‡ŒåŒ–å‡½æ•°
const curry = (fn) => {
  return function curriedFn (...args) {
    if (fn.length > args.length) {  // æœªè¾¾åˆ°è§¦å‘æ¡ä»¶ï¼Œç»§ç»­æ”¶é›†å‚æ•°
      return function () {
        // sliceæ–¹æ³•å†…éƒ¨çš„thiså°±ä¼šè¢«æ›¿æ¢æˆargumentsï¼Œå¹¶å¾ªç¯éå†argumentsï¼Œå¤åˆ¶åˆ°æ–°æ•°ç»„è¿”å›ï¼Œè¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªå¤åˆ¶argumentsç±»æ•°ç»„çš„æ•°ç»„å¯¹è±¡ã€‚
        return curriedFn(args.concat([].slice.call(arguments)))
      }
    }
    return fn(args)
  }
}

const multiply = (x, y, z) => x*y*z;

const curryMul = curry(multiply);
const result = curryMul(1)(2)(3); // 1*2*3 = 6
```

## vueçš„filter
ä¸Šé¢æˆ‘ä»¬æåˆ°äº†

vueçš„ç®¡é“è¿ç®—ç¬¦å†™å‡ºæ¥æ˜¯ğŸ‘‡
- `val | fn1 | fn2 | fn3`

å½“ç„¶è¿™ä¸æ˜¯`js`çš„è¯­æ³•ï¼Œä¹Ÿä¸æ˜¯`ES6+`çš„è¯­æ³•

æ‰€ä»¥vueè‚¯å®šæ˜¯æŠŠè¿™ç§è¯­æ³•ç¼–è¯‘æˆåˆ«çš„ä¸œè¥¿äº†

æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªç®€æ˜“vueçš„ä»£ç ,åœ¨æµè§ˆå™¨çœ‹çœ‹ç¼–è¯‘åçš„js
```js
new Vue({
  // render: h => h('h1','msg | testFilter'),
  template: '<h1>{{msg | testFilter}}</h1>',
  data: { msg: 'msg' },
  filters: {
    testFilter(val) {
      return `filterä¹‹åçš„${val}`
    }
  },
}).$mount('#app')
```
ğŸ‘† é¡ºä¾¿å›é¡¾ä¸€ä¸‹`render`å’Œ`template`çš„åŒºåˆ«

`filter`åƒä¸Šé¢é‚£æ ·å†™åœ¨`render`å‡½æ•°æ˜¯æ™®é€šçš„å­—ç¬¦ä¸²ï¼Œ`render`ä¸æä¾›`filter`
è¦è‡ªå·±ç»™å®ç°

CDNçš„ç¼–è¯‘å‘ç”Ÿåœ¨æµè§ˆå™¨è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬çœ‹ä¸äº†ç¼–è¯‘åçš„ä»£ç ï¼Œè¦ç”¨æ‰“åŒ…å·¥å…·æœ¬åœ°ç¼–è¯‘æ‰è¡Œ`vue-loader`

æˆ‘ä»¬å‘ç°vueå¹¶æ²¡ç”¨åˆ°ç®¡é“å‡½æ•°æ¥å°è£…å¤„ç†filterï¼Œç¼–è¯‘åçš„ä»£ç æ˜¯ `fn3(fn2(fn1(val)))`

ä»…ä»…æ˜¯ç¼–è¯‘å¤„ç†å­—ç¬¦ä¸²ç”¨`|`åˆ†å‰²å¹¶å¤„ç†æˆåŒ…è£¹çš„é‚£ç§è°ƒç”¨æ–¹å¼
å½“ç„¶ï¼Œå› ä¸ºå®šä¹‰çš„æ–¹æ³•åœ¨ç»„ä»¶ä½œç”¨åŸŸä¸­ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ç”¨å‡½æ•°ååŒ…å®Œå°±å®Œäº‹ï¼Œè€Œåº”è¯¥æ˜¯

`util('fn3')(util('fn2')(util('fn1')(val)))` é€šè¿‡`util`å‡½æ•°ä¼ å…¥è¿‡æ»¤å™¨å‡½æ•°åå­—ç¬¦ä¸²å†åŒ…è£¹ï¼Œå®ç°1ä¸ªå‚æ•°ä»å·¦å¾€å³ç»è¿‡å¤šä¸ªå‡½æ•°

TODO: æºç 

## æ€»ç»“
> ç»„åˆå’Œç®¡é“ç±»ä¼¼ï¼Œéƒ½æ˜¯ä¸²è¡Œå¤„ç†æ•°æ®ã€‚
> ä¼ å…¥ä¸€ä¸ªåˆå§‹æ•°æ®ï¼Œé€šè¿‡ä¸€ç³»åˆ—ç‰¹å®šé¡ºåºçš„ä¸åŒå‡½æ•°å¤„ç†æˆæˆ‘ä»¬å¸Œæœ›å¾—åˆ°çš„æ•°æ®
> è€Œå‡½æ•°æŸ¯é‡ŒåŒ–åˆ™æ˜¯ï¼Œä¸€ä¸ªå‡½æ•°ï¼Œä¼ é€’å¤šæ¬¡ä¸åŒå‚æ•°å¾—å‡ºç»“æœæ•°æ®

## å‚è€ƒèµ„æ–™
- [vueæºç ç³»åˆ—-filter](https://vue-js.com/learn-vue/filter/filterPrinciple.html#_1-å‰è¨€)